<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AML Pr≈Øvodce pro Advok√°tn√≠ Praxi (2025)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Font: Noto Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans', sans-serif;
            background-color: #f8fafc;
            color: #334155;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 300px;
            margin: 0 auto;
        }

        /* Navigation Tabs */
        .nav-btn {
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        .nav-btn.active {
            border-bottom-color: #0f172a; /* Slate 900 */
            color: #0f172a;
            font-weight: 700;
        }
        .nav-btn.inactive {
            color: #64748b;
            font-weight: 500;
        }
        .nav-btn.inactive:hover {
            color: #334155;
            border-bottom-color: #cbd5e1;
        }

        /* Scenarios Accordion */
        .scenario-card {
            transition: all 0.2s;
        }
        .scenario-card:hover {
            transform: translateX(4px);
        }

        /* Animations */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide {
            animation: slideIn 0.4s ease-out forwards;
        }
    </style>

    <!-- Application Structure Plan:
         1. Header: Professional context.
         2. Navigation: Standard legal terms.
         3. Content: 
            - Overview: Basic legal framework.
            - Limits: Visual chart of thresholds.
            - Client Analysis: The core interactive tool.
            - Scenarios: 6 distinct cases covering varied legal areas.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-slate-50 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-slate-900 text-white shadow-md">
        <div class="container mx-auto px-4 py-5 flex flex-col md:flex-row justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold tracking-tight">‚öñÔ∏è AML Compliance pro Advok√°ty</h1>
                <p class="text-slate-400 text-sm mt-1">Interaktivn√≠ n√°stroj pro aplikaci z√°kona ƒç. 253/2008 Sb. a p≈ôedpis≈Ø ƒåAK</p>
            </div>
            <div class="mt-4 md:mt-0 flex gap-2">
                <span class="px-3 py-1 bg-amber-600 rounded text-xs font-bold uppercase tracking-wider">Metodika 2025</span>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white sticky top-0 z-40 shadow-sm border-b border-slate-200">
        <div class="container mx-auto px-4">
            <div class="flex overflow-x-auto pb-1 gap-6" id="nav-container">
                <button onclick="switchTab('tab-prehled')" id="btn-tab-prehled" class="nav-btn active py-4 px-1 whitespace-nowrap">
                    P≈ôehled Povinnost√≠
                </button>
                <button onclick="switchTab('tab-limity')" id="btn-tab-limity" class="nav-btn inactive py-4 px-1 whitespace-nowrap">
                    Finanƒçn√≠ Limity
                </button>
                <button onclick="switchTab('tab-analyza')" id="btn-tab-analyza" class="nav-btn inactive py-4 px-1 whitespace-nowrap flex items-center gap-2">
                    <span>‚ö°</span> Anal√Ωza Klienta
                </button>
                <button onclick="switchTab('tab-situace')" id="btn-tab-situace" class="nav-btn inactive py-4 px-1 whitespace-nowrap">
                    Modelov√© Situace
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 max-w-6xl">

        <!-- SECTION 1: P≈ôehled -->
        <section id="tab-prehled" class="animate-slide space-y-6">
            <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">Z√°kladn√≠ principy: Kdy se aplikuje AML?</h2>
                <p class="text-slate-600 mb-6 text-lg">
                    Advok√°tn√≠ praxe je specifick√° t√≠m, ≈æe se povinnosti AML z√°kona nevztahuj√≠ na ve≈°kerou ƒçinnost, ale pouze na z√°konem vymezen√© <strong>sledovan√© ƒçinnosti</strong>. V ostatn√≠ch p≈ô√≠padech m√° p≈ôednost z√°konn√° povinnost mlƒçenlivosti.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                    <!-- Sledovan√© ƒçinnosti -->
                    <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">!</div>
                            <h3 class="font-bold text-blue-900 text-lg">Sledovan√© ƒçinnosti (AML plat√≠)</h3>
                        </div>
                        <ul class="space-y-3 text-slate-700">
                            <li class="flex gap-2"><span class="text-blue-500">‚úì</span> √öschova penƒõz, cenn√Ωch pap√≠r≈Ø ƒçi jin√©ho majetku.</li>
                            <li class="flex gap-2"><span class="text-blue-500">‚úì</span> N√°kup nebo prodej nemovitosti ƒçi podniku.</li>
                            <li class="flex gap-2"><span class="text-blue-500">‚úì</span> Spr√°va majetku klienta (vƒç. svƒõ≈ôensk√Ωch fond≈Ø).</li>
                            <li class="flex gap-2"><span class="text-blue-500">‚úì</span> Zakl√°d√°n√≠ a ≈ô√≠zen√≠ obchodn√≠ch korporac√≠.</li>
                        </ul>
                    </div>

                    <!-- V√Ωjimky -->
                    <div class="bg-green-50 p-6 rounded-xl border border-green-100">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">üõ°Ô∏è</div>
                            <h3 class="font-bold text-green-900 text-lg">V√Ωjimky (Mlƒçenlivost plat√≠)</h3>
                        </div>
                        <ul class="space-y-3 text-slate-700">
                            <li class="flex gap-2"><span class="text-green-500">‚úì</span> <strong>Obhajoba</strong> v trestn√≠m ≈ô√≠zen√≠ (Absolutn√≠ v√Ωjimka).</li>
                            <li class="flex gap-2"><span class="text-green-500">‚úì</span> Zastupov√°n√≠ v soudn√≠m ≈ô√≠zen√≠.</li>
                            <li class="flex gap-2"><span class="text-green-500">‚úì</span> Pr√°vn√≠ poradenstv√≠ ohlednƒõ pr√°vn√≠ho postaven√≠.</li>
                            <li class="flex gap-2"><span class="text-green-500">‚úì</span> Sepis smluv bez manipulace s prost≈ôedky (mimo nemovitosti).</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: Limity -->
        <section id="tab-limity" class="hidden animate-slide space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <div class="flex flex-col md:flex-row justify-between items-start mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800">Finanƒçn√≠ Limity</h2>
                        <p class="text-slate-500">P≈ôehled prahov√Ωch hodnot aktivuj√≠c√≠ch povinnosti u sledovan√Ωch ƒçinnost√≠.</p>
                    </div>
                </div>
                
                <div class="chart-container mb-8">
                    <canvas id="limitsChart"></canvas>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="text-center p-4 bg-slate-50 rounded-lg">
                        <div class="text-lg font-bold text-red-600">0 EUR</div>
                        <div class="text-xs text-slate-500 uppercase font-semibold">Advok√°tn√≠ √öschova</div>
                        <p class="text-xs mt-1 text-slate-400">Identifikace v≈ædy</p>
                    </div>
                    <div class="text-center p-4 bg-slate-50 rounded-lg">
                        <div class="text-lg font-bold text-blue-600">1 000 EUR</div>
                        <div class="text-xs text-slate-500 uppercase font-semibold">P≈ô√≠le≈æitostn√Ω obchod</div>
                        <p class="text-xs mt-1 text-slate-400">Nutn√° identifikace</p>
                    </div>
                    <div class="text-center p-4 bg-slate-50 rounded-lg">
                        <div class="text-lg font-bold text-indigo-600">15 000 EUR</div>
                        <div class="text-xs text-slate-500 uppercase font-semibold">Povinn√° Kontrola</div>
                        <p class="text-xs mt-1 text-slate-400">Hloubkov√° kontrola</p>
                    </div>
                    <div class="text-center p-4 bg-slate-50 rounded-lg">
                        <div class="text-lg font-bold text-orange-600">270 000 CZK</div>
                        <div class="text-xs text-slate-500 uppercase font-semibold">Limit Hotovosti</div>
                        <p class="text-xs mt-1 text-slate-400">Z√°kaz p≈ôijet√≠</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: Anal√Ωza Klienta (Interactive) -->
        <section id="tab-analyza" class="hidden animate-slide">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                
                <!-- INPUT FORM -->
                <div class="lg:col-span-4 space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <span class="bg-slate-800 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs">1</span>
                            Parametry Slu≈æby
                        </h3>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1">Typ Pr√°vn√≠ Slu≈æby</label>
                                <select id="serviceType" onchange="toggleFormState()" class="w-full p-2.5 bg-blue-50 border border-blue-200 rounded-lg text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium">
                                    <optgroup label="Sledovan√© ƒçinnosti (AML)">
                                        <option value="uschova">Advok√°tn√≠ √∫schova</option>
                                        <option value="nemovitost">P≈ôevod nemovitosti / pod√≠lu</option>
                                        <option value="korporace">Zakl√°d√°n√≠ / spr√°va firmy</option>
                                        <option value="majatek">Spr√°va majetku / Trust</option>
                                    </optgroup>
                                    <optgroup label="Nesledovan√© ƒçinnosti (V√Ωjimky)">
                                        <option value="obhajoba">Obhajoba v trestn√≠m ≈ô√≠zen√≠</option>
                                        <option value="poradenstvi">Bƒõ≈æn√© poradenstv√≠ / Spory</option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div id="clientFormSection" class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 transition-opacity duration-300">
                        <h3 class="font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <span class="bg-slate-800 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs">2</span>
                            Parametry Klienta & Rizika
                        </h3>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-1">Hodnota obchodu (EUR)</label>
                                <input type="number" id="tradeValue" class="w-full p-2.5 border border-slate-300 rounded-lg" placeholder="nap≈ô. 20000">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-1">Typ Klienta</label>
                                <select id="clientType" class="w-full p-2.5 border border-slate-300 rounded-lg bg-white">
                                    <option value="fyzicka">Fyzick√° osoba</option>
                                    <option value="pravnicka">Pr√°vnick√° osoba</option>
                                    <option value="sverensky">Svƒõ≈ôensk√Ω fond</option>
                                </select>
                            </div>

                            <div class="pt-2 space-y-3">
                                <label class="flex items-start gap-3 cursor-pointer p-2 hover:bg-slate-50 rounded">
                                    <input type="checkbox" id="isPEP" class="mt-1 w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500">
                                    <div>
                                        <span class="text-sm font-medium text-slate-700 block">Politicky exponovan√° osoba (PEP)</span>
                                        <span class="text-xs text-slate-400">Poslanec, soudce, velvyslanec...</span>
                                    </div>
                                </label>
                                <label class="flex items-start gap-3 cursor-pointer p-2 hover:bg-slate-50 rounded">
                                    <input type="checkbox" id="isHighRisk" class="mt-1 w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500">
                                    <div>
                                        <span class="text-sm font-medium text-slate-700 block">Rizikov√° zemƒõ / Sankce</span>
                                        <span class="text-xs text-slate-400">P≈Øvod z rizikov√© 3. zemƒõ</span>
                                    </div>
                                </label>
                                <label class="flex items-start gap-3 cursor-pointer p-2 hover:bg-slate-50 rounded">
                                    <input type="checkbox" id="isNonFace" class="mt-1 w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500">
                                    <div>
                                        <span class="text-sm font-medium text-slate-700 block">Identifikace na d√°lku</span>
                                        <span class="text-xs text-slate-400">Klient nen√≠ fyzicky p≈ô√≠tomen</span>
                                    </div>
                                </label>
                                <div class="border-t pt-2">
                                    <label class="flex items-start gap-3 cursor-pointer p-2 bg-red-50 rounded border border-red-100">
                                        <input type="checkbox" id="isSuspicious" class="mt-1 w-4 h-4 text-red-600 rounded border-gray-300 focus:ring-red-500">
                                        <div>
                                            <span class="text-sm font-bold text-red-800 block">Podez≈ôen√≠ na nekalou ƒçinnost</span>
                                            <span class="text-xs text-red-600">Nejasn√Ω p≈Øvod, nervozita, spƒõch...</span>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <button onclick="analyzeClient()" class="w-full bg-slate-900 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-800 transition shadow-lg mt-2">
                                Prov√©st Anal√Ωzu
                            </button>
                        </div>
                    </div>
                </div>

                <!-- OUTPUT DISPLAY -->
                <div class="lg:col-span-8">
                    <div id="emptyState" class="h-full flex flex-col items-center justify-center p-12 bg-white rounded-xl border-2 border-dashed border-slate-200 text-slate-400">
                        <div class="text-5xl mb-4">‚öñÔ∏è</div>
                        <h3 class="text-lg font-medium text-slate-600">ƒåek√°m na data</h3>
                        <p class="text-sm">Vypl≈àte parametry vlevo pro vyhodnocen√≠ povinnost√≠.</p>
                    </div>

                    <div id="analysisResult" class="hidden space-y-6">
                        <!-- Main Banner -->
                        <div id="mainAlert" class="p-6 rounded-xl border flex items-start gap-4 shadow-sm bg-white">
                            <!-- Injected via JS -->
                        </div>

                        <!-- Details Grid -->
                        <div id="detailsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- IDENTIFICATION -->
                            <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col">
                                <div class="flex justify-between items-center border-b pb-3 mb-3">
                                    <h4 class="font-bold text-slate-800">1. Identifikace</h4>
                                    <span id="badgeId" class="text-xs font-bold px-2 py-1 rounded bg-gray-100 text-gray-500">---</span>
                                </div>
                                <div id="contentId" class="text-sm text-slate-600 flex-grow"></div>
                            </div>

                            <!-- CONTROL -->
                            <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col">
                                <div class="flex justify-between items-center border-b pb-3 mb-3">
                                    <h4 class="font-bold text-slate-800">2. Kontrola</h4>
                                    <span id="badgeCtrl" class="text-xs font-bold px-2 py-1 rounded bg-gray-100 text-gray-500">---</span>
                                </div>
                                <div id="contentCtrl" class="text-sm text-slate-600 flex-grow"></div>
                            </div>
                        </div>

                        <!-- Warnings -->
                        <div id="warningsBox" class="hidden bg-amber-50 border border-amber-200 p-4 rounded-lg">
                            <h4 class="font-bold text-amber-900 text-sm mb-2 flex items-center gap-2">
                                ‚ö†Ô∏è Specifick√° upozornƒõn√≠
                            </h4>
                            <ul id="warningsList" class="list-disc list-inside text-sm text-amber-800 space-y-1"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: Modelov√© Situace -->
        <section id="tab-situace" class="hidden animate-slide">
            <div class="max-w-4xl mx-auto space-y-6">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-slate-800">Modelov√© Situace z Praxe</h2>
                    <p class="text-slate-500">Rozkliknƒõte karty pro zobrazen√≠ spr√°vn√©ho postupu.</p>
                </div>

                <!-- Scenario 1 -->
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden scenario-card">
                    <div class="p-5 cursor-pointer hover:bg-slate-50 flex justify-between items-center" onclick="toggleScenario('s1')">
                        <div class="flex gap-4 items-center">
                            <span class="bg-red-100 text-red-700 font-bold px-2 py-1 rounded text-xs">Podez≈ôel√Ω obchod</span>
                            <span class="font-semibold text-slate-800">Klient chce koupit firmu, pen√≠ze pos√≠l√° z offshore "p≈Øjƒçky"</span>
                        </div>
                        <span class="text-slate-400 text-2xl">‚åÑ</span>
                    </div>
                    <div id="s1" class="hidden px-5 pb-5 pt-2 border-t border-slate-100 bg-slate-50">
                        <p class="text-slate-700 text-sm mb-2"><strong>Situace:</strong> Klient kupuje pod√≠l v s.r.o. (sledovan√° ƒçinnost). Pen√≠ze maj√≠ p≈ôij√≠t z √∫ƒçtu spoleƒçnosti na BVI, ke kter√© klient nem√° dispoziƒçn√≠ pr√°vo, tvrd√≠, ≈æe jde o p≈Øjƒçku od "zn√°m√©ho", kter√©ho nechce jmenovat.</p>
                        <div class="bg-white p-3 rounded border border-red-200 text-sm">
                            <strong class="text-red-700">≈òe≈°en√≠:</strong> Advok√°t mus√≠ odm√≠tnout transakci. Nepr≈Øhledn√Ω p≈Øvod penƒõz a neochota odhalit UBO vƒõ≈ôitele je d≈Øvodem k podez≈ôen√≠. Nutno podat OPO (Ozn√°men√≠ podez≈ôel√©ho obchodu) ƒåAK.
                        </div>
                    </div>
                </div>

                <!-- Scenario 2 -->
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden scenario-card">
                    <div class="p-5 cursor-pointer hover:bg-slate-50 flex justify-between items-center" onclick="toggleScenario('s2')">
                        <div class="flex gap-4 items-center">
                            <span class="bg-green-100 text-green-700 font-bold px-2 py-1 rounded text-xs">V√Ωjimka</span>
                            <span class="font-semibold text-slate-800">Rozvodov√© ≈ô√≠zen√≠ a zatajen√© miliony</span>
                        </div>
                        <span class="text-slate-400 text-2xl">‚åÑ</span>
                    </div>
                    <div id="s2" class="hidden px-5 pb-5 pt-2 border-t border-slate-100 bg-slate-50">
                        <p class="text-slate-700 text-sm mb-2"><strong>Situace:</strong> P≈ôi zastupov√°n√≠ v rozvodu klient p≈ôizn√°, ≈æe m√° ulit√Ωch 5 milion≈Ø v hotovosti, kter√© nechce p≈ôiznat man≈æelce. Pt√° se, jak je "pr√°vnƒõ o≈°et≈ôit".</p>
                        <div class="bg-white p-3 rounded border border-green-200 text-sm">
                            <strong class="text-green-700">≈òe≈°en√≠:</strong> Jde o pr√°vn√≠ poradenstv√≠ ve sporu (nesledovan√° ƒçinnost). Advok√°t m√° povinnost mlƒçenlivosti. Nesm√≠ podat OPO. Nicm√©nƒõ nesm√≠ klientovi pom√°hat pen√≠ze pr√°t (nap≈ô. je vz√≠t do √∫schovy) ‚Äì to by ji≈æ byl trestn√Ω ƒçin nadr≈æov√°n√≠/legalizace. Mus√≠ poradenstv√≠ omezit na z√°konn√© meze.
                        </div>
                    </div>
                </div>

                <!-- Scenario 3 -->
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden scenario-card">
                    <div class="p-5 cursor-pointer hover:bg-slate-50 flex justify-between items-center" onclick="toggleScenario('s3')">
                        <div class="flex gap-4 items-center">
                            <span class="bg-orange-100 text-orange-700 font-bold px-2 py-1 rounded text-xs">PEP / EDD</span>
                            <span class="font-semibold text-slate-800">Starosta obce prod√°v√° soukromou chatu</span>
                        </div>
                        <span class="text-slate-400 text-2xl">‚åÑ</span>
                    </div>
                    <div id="s3" class="hidden px-5 pb-5 pt-2 border-t border-slate-100 bg-slate-50">
                        <p class="text-slate-700 text-sm mb-2"><strong>Situace:</strong> Advok√°t p≈ôipravuje smlouvu o p≈ôevodu nemovitosti. Prod√°vaj√≠c√≠ je starosta (PEP). Cena je obvykl√°.</p>
                        <div class="bg-white p-3 rounded border border-orange-200 text-sm">
                            <strong class="text-orange-700">≈òe≈°en√≠:</strong> Sledovan√° ƒçinnost + PEP = Zes√≠len√° kontrola (EDD). Transakce je pravdƒõpodobnƒõ v po≈ô√°dku, ale advok√°t <strong>mus√≠</strong> form√°lnƒõ provƒõ≈ôit p≈Øvod majetku (chaty) a z√≠skat souhlas veden√≠ AK k obchodu. Nestaƒç√≠ bƒõ≈æn√° identifikace.
                        </div>
                    </div>
                </div>

                <!-- Scenario 4 -->
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden scenario-card">
                    <div class="p-5 cursor-pointer hover:bg-slate-50 flex justify-between items-center" onclick="toggleScenario('s4')">
                        <div class="flex gap-4 items-center">
                            <span class="bg-blue-100 text-blue-700 font-bold px-2 py-1 rounded text-xs">Krypto</span>
                            <span class="font-semibold text-slate-800">Start-up vkl√°d√° z√°kladn√≠ kapit√°l v Bitcoinu</span>
                        </div>
                        <span class="text-slate-400 text-2xl">‚åÑ</span>
                    </div>
                    <div id="s4" class="hidden px-5 pb-5 pt-2 border-t border-slate-100 bg-slate-50">
                        <p class="text-slate-700 text-sm mb-2"><strong>Situace:</strong> Zakl√°d√°te s.r.o. (sledovan√° ƒçinnost). Klient chce splatit vklad p≈ôevodem kryptomƒõny, kterou "vytƒõ≈æil v roce 2015".</p>
                        <div class="bg-white p-3 rounded border border-blue-200 text-sm">
                            <strong class="text-blue-700">≈òe≈°en√≠:</strong> Vysok√© riziko. Virtu√°ln√≠ aktiva jsou rizikov√Ω faktor. Nutn√° kontrola zdroje (blockchain anal√Ωza nebo ƒçestn√© prohl√°≈°en√≠ s d≈Økazy o tƒõ≈æbƒõ). Pokud klient nedolo≈æ√≠ p≈Øvod, nelze prov√©st.
                        </div>
                    </div>
                </div>

                 <!-- Scenario 5 -->
                 <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden scenario-card">
                    <div class="p-5 cursor-pointer hover:bg-slate-50 flex justify-between items-center" onclick="toggleScenario('s5')">
                        <div class="flex gap-4 items-center">
                            <span class="bg-red-100 text-red-700 font-bold px-2 py-1 rounded text-xs">Zak√°z√°no</span>
                            <span class="font-semibold text-slate-800">√öschova "na hor≈°√≠ ƒçasy"</span>
                        </div>
                        <span class="text-slate-400 text-2xl">‚åÑ</span>
                    </div>
                    <div id="s5" class="hidden px-5 pb-5 pt-2 border-t border-slate-100 bg-slate-50">
                        <p class="text-slate-700 text-sm mb-2"><strong>Situace:</strong> Klient chce d√°t do advok√°tn√≠ √∫schovy 2 mil. Kƒç. Nen√≠ to v√°z√°no na ≈æ√°dn√Ω p≈ôevod nemovitosti ani soudn√≠ spor. Chce to jen "schovat".</p>
                        <div class="bg-white p-3 rounded border border-red-200 text-sm">
                            <strong class="text-red-700">≈òe≈°en√≠:</strong> Odm√≠tnout. ƒål. 56 Etick√©ho kodexu/Usnesen√≠ o √∫schov√°ch zakazuje √∫schovu, kter√° nesouvis√≠ s poskytov√°n√≠m jin√© pr√°vn√≠ slu≈æby. Nav√≠c jde o typick√Ω znak pran√≠ penƒõz (layering).
                        </div>
                    </div>
                </div>

                <!-- Scenario 6 -->
                 <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden scenario-card">
                    <div class="p-5 cursor-pointer hover:bg-slate-50 flex justify-between items-center" onclick="toggleScenario('s6')">
                        <div class="flex gap-4 items-center">
                            <span class="bg-gray-200 text-gray-700 font-bold px-2 py-1 rounded text-xs">Podlimit</span>
                            <span class="font-semibold text-slate-800">Sepis kupn√≠ smlouvy na auto (500 000 Kƒç)</span>
                        </div>
                        <span class="text-slate-400 text-2xl">‚åÑ</span>
                    </div>
                    <div id="s6" class="hidden px-5 pb-5 pt-2 border-t border-slate-100 bg-slate-50">
                        <p class="text-slate-700 text-sm mb-2"><strong>Situace:</strong> Klient chce pouze sepsat smlouvu na prodej auta. Pen√≠ze si p≈ôedaj√≠ sami mimo advok√°ta.</p>
                        <div class="bg-white p-3 rounded border border-gray-300 text-sm">
                            <strong class="text-gray-700">≈òe≈°en√≠:</strong> Nen√≠ to sledovan√° ƒçinnost. Sepis smlouvy o p≈ôevodu movit√© vƒõci (auta) nespad√° pod AML z√°kon (pokud advok√°t neprov√°d√≠ √∫schovu penƒõz). ≈Ω√°dn√° identifikace AML nen√≠ t≈ôeba (pouze bƒõ≈æn√° identifikace klienta pro smlouvu).
                        </div>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-100 py-6 text-center text-slate-400 text-xs border-t border-slate-200">
        <p>¬© 2025 Advok√°tn√≠ Vzdƒõl√°vac√≠ Modul | Vygenerov√°no pro pot≈ôeby ≈°kolen√≠ AML</p>
        <p class="mt-1">Aplikace nenahrazuje znƒõn√≠ z√°kona ƒç. 253/2008 Sb.</p>
    </footer>

    <!-- Logic -->
    <script>
        // Navigation
        function switchTab(tabId) {
            document.querySelectorAll('main > section').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('animate-slide');
            });
            const target = document.getElementById(tabId);
            target.classList.remove('hidden');
            void target.offsetWidth; // trigger reflow for animation
            target.classList.add('animate-slide');

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('inactive');
            });
            document.getElementById('btn-' + tabId).classList.add('active');
            document.getElementById('btn-' + tabId).classList.remove('inactive');

            if (tabId === 'tab-limity' && window.myChart) {
                window.myChart.resize();
            }
        }

        // Scenario Toggle
        function toggleScenario(id) {
            const el = document.getElementById(id);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        }

        // UX: Toggle Form State based on Service Type
        function toggleFormState() {
            const service = document.getElementById('serviceType').value;
            const clientSection = document.getElementById('clientFormSection');
            const exemptServices = ['obhajoba', 'poradenstvi'];
            
            if (exemptServices.includes(service)) {
                clientSection.classList.add('opacity-50', 'pointer-events-none');
            } else {
                clientSection.classList.remove('opacity-50', 'pointer-events-none');
            }
        }

        // ANALYSIS LOGIC
        function analyzeClient() {
            // Inputs
            const service = document.getElementById('serviceType').value;
            const value = parseFloat(document.getElementById('tradeValue').value) || 0;
            const isPEP = document.getElementById('isPEP').checked;
            const isHighRisk = document.getElementById('isHighRisk').checked;
            const isNonFace = document.getElementById('isNonFace').checked;
            const isSuspicious = document.getElementById('isSuspicious').checked;

            // Elements
            const emptyState = document.getElementById('emptyState');
            const resultBox = document.getElementById('analysisResult');
            const alertBox = document.getElementById('mainAlert');
            
            const badgeId = document.getElementById('badgeId');
            const contentId = document.getElementById('contentId');
            const badgeCtrl = document.getElementById('badgeCtrl');
            const contentCtrl = document.getElementById('contentCtrl');
            const warningsBox = document.getElementById('warningsBox');
            const warningsList = document.getElementById('warningsList');

            emptyState.classList.add('hidden');
            resultBox.classList.remove('hidden');

            let warnings = [];
            let mainStatus = "";
            let mainColorClass = "";

            // 1. Check Service Exemption
            const isExempt = ['obhajoba', 'poradenstvi'].includes(service);
            
            if (isExempt && !isSuspicious) {
                alertBox.className = "p-6 rounded-xl border flex items-start gap-4 shadow-sm bg-green-50 border-green-200";
                alertBox.innerHTML = `
                    <div class="text-3xl">üõ°Ô∏è</div>
                    <div>
                        <h3 class="font-bold text-green-900 text-lg">V√Ωjimka z AML</h3>
                        <p class="text-green-800 text-sm mt-1">U t√©to slu≈æby se neuplat≈àuj√≠ postupy AML z√°kona. Plat√≠ absolutn√≠ povinnost mlƒçenlivosti.</p>
                    </div>`;
                
                badgeId.textContent = "NEPROV√ÅD√ç SE";
                badgeId.className = "text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-700";
                contentId.innerHTML = "Pouze bƒõ≈æn√° identifikace klienta pro pot≈ôeby smlouvy/spisu.";

                badgeCtrl.textContent = "NEPROV√ÅD√ç SE";
                badgeCtrl.className = "text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-700";
                contentCtrl.innerHTML = "Nezji≈°≈•uje se p≈Øvod majetku.";
                
                warningsBox.classList.add('hidden');
                return;
            }

            // 2. Logic for Monitored Activities
            let requiresId = false;
            let requiresCtrl = false;
            let ctrlLevel = "Standard"; // Standard vs Enhanced

            // ID Logic
            if (service === 'uschova') {
                requiresId = true;
                warnings.push("U √∫schovy je identifikace povinn√° v≈ædy (bez limitu).");
            } else if (value >= 1000 || isSuspicious) {
                requiresId = true;
            }

            // Control Logic
            if (value >= 15000 || service === 'uschova' || isSuspicious || isPEP || isHighRisk) {
                requiresCtrl = true;
            }

            // Enhanced Due Diligence (EDD) Triggers
            if (isPEP || isHighRisk || isSuspicious || (isNonFace && !requiresId)) {
                ctrlLevel = "Enhanced";
            }

            // Suspicious Override
            if (isSuspicious) {
                mainColorClass = "bg-red-50 border-red-200";
                mainStatus = `
                    <div class="text-3xl">üö®</div>
                    <div>
                        <h3 class="font-bold text-red-900 text-lg">PODEZ≈òEL√ù OBCHOD</h3>
                        <p class="text-red-800 text-sm mt-1">Detekov√°no vysok√© riziko. Zva≈æte povinnost podat OPO a obchod neuskuteƒçnit.</p>
                    </div>`;
                warnings.push("Z√°kaz 'tipping-off' (nevarovat klienta).");
            } else if (ctrlLevel === "Enhanced" && requiresCtrl) {
                mainColorClass = "bg-orange-50 border-orange-200";
                mainStatus = `
                    <div class="text-3xl">‚ö†Ô∏è</div>
                    <div>
                        <h3 class="font-bold text-orange-900 text-lg">Vysok√© Riziko (EDD)</h3>
                        <p class="text-orange-800 text-sm mt-1">Nutn√° zes√≠len√° kontrola klienta a schv√°len√≠ obchodu.</p>
                    </div>`;
            } else if (requiresCtrl) {
                mainColorClass = "bg-blue-50 border-blue-200";
                mainStatus = `
                    <div class="text-3xl">‚ÑπÔ∏è</div>
                    <div>
                        <h3 class="font-bold text-blue-900 text-lg">Standardn√≠ Povinnosti</h3>
                        <p class="text-blue-800 text-sm mt-1">Obchod podl√©h√° standardn√≠ identifikaci a kontrole.</p>
                    </div>`;
            } else if (requiresId) {
                mainColorClass = "bg-blue-50 border-blue-200";
                mainStatus = `
                    <div class="text-3xl">üÜî</div>
                    <div>
                        <h3 class="font-bold text-blue-900 text-lg">Pouze Identifikace</h3>
                        <p class="text-blue-800 text-sm mt-1">Obchod p≈ôesahuje 1000 EUR, nutn√° identifikace.</p>
                    </div>`;
            } else {
                mainColorClass = "bg-slate-50 border-slate-200";
                mainStatus = `
                    <div class="text-3xl">‚úÖ</div>
                    <div>
                        <h3 class="font-bold text-slate-900 text-lg">Podlimitn√≠ obchod</h3>
                        <p class="text-slate-700 text-sm mt-1">Sledovan√° ƒçinnost pod limitem 1000 EUR.</p>
                    </div>`;
            }

            alertBox.className = `p-6 rounded-xl border flex items-start gap-4 shadow-sm ${mainColorClass}`;
            alertBox.innerHTML = mainStatus;

            // Render ID Details
            if (requiresId) {
                badgeId.textContent = "NUTN√Å";
                badgeId.className = "text-xs font-bold px-2 py-1 rounded bg-blue-100 text-blue-700";
                let html = `<ul class="list-disc list-inside space-y-1">
                    <li>Zaznamenat identifikaƒçn√≠ √∫daje (¬ß 5).</li>
                    <li>Ovƒõ≈ôit shodu podoby (Face-to-face).</li>
                    <li>Kontrola sankƒçn√≠ch seznam≈Ø (MAP).</li>`;
                if (isNonFace) html += `<li class="font-bold text-orange-600">Postup na d√°lku (¬ß 11) - Prvn√≠ platba z √∫ƒçtu!</li>`;
                html += `</ul>`;
                contentId.innerHTML = html;
            } else {
                badgeId.textContent = "NEN√ç NUTN√Å";
                badgeId.className = "text-xs font-bold px-2 py-1 rounded bg-gray-100 text-gray-500";
                contentId.innerHTML = "Podlimitn√≠ transakce (pokud nen√≠ podez≈ôen√≠).";
            }

            // Render Control Details
            if (requiresCtrl) {
                badgeCtrl.textContent = ctrlLevel === "Enhanced" ? "ZES√çLEN√Å" : "STANDARD";
                badgeCtrl.className = ctrlLevel === "Enhanced" 
                    ? "text-xs font-bold px-2 py-1 rounded bg-orange-100 text-orange-700" 
                    : "text-xs font-bold px-2 py-1 rounded bg-blue-100 text-blue-700";
                
                let html = `<ul class="list-disc list-inside space-y-1">
                    <li>Zji≈°tƒõn√≠ Skuteƒçn√©ho majitele (UBO).</li>
                    <li>Zji≈°tƒõn√≠ √∫ƒçelu obchodu.</li>`;
                if (ctrlLevel === "Enhanced") {
                    html += `<li class="font-bold text-red-600">Dolo≈æen√≠ p≈Øvodu majetku dokumenty.</li>`;
                    html += `<li class="font-bold text-red-600">Souhlas statut√°ra/partnera kancel√°≈ôe.</li>`;
                    if(isPEP) warnings.push("PEP: Nutno zjistit p≈Øvod ve≈°ker√©ho majetku, ne jen penƒõz v transakci.");
                }
                html += `</ul>`;
                contentCtrl.innerHTML = html;
            } else {
                badgeCtrl.textContent = "NEN√ç NUTN√Å";
                badgeCtrl.className = "text-xs font-bold px-2 py-1 rounded bg-gray-100 text-gray-500";
                contentCtrl.innerHTML = "Nesplnƒõn limit 15 000 EUR ani rizikov√° kriteria.";
            }

            // Render Warnings
            if (warnings.length > 0) {
                warningsBox.classList.remove('hidden');
                warningsList.innerHTML = warnings.map(w => `<li>${w}</li>`).join('');
            } else {
                warningsBox.classList.add('hidden');
            }
        }

        // Initialize Chart
        document.addEventListener('DOMContentLoaded', () => {
            const ctx = document.getElementById('limitsChart').getContext('2d');
            window.myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['√öschova', 'P≈ô√≠le≈æitostn√Ω', 'Kontrola', 'Hotovost'],
                    datasets: [{
                        label: 'Limit (EUR)',
                        data: [0.1, 1000, 15000, 10800], // 0.1 visuals for "Always"
                        backgroundColor: ['#ef4444', '#3b82f6', '#4f46e5', '#f97316'],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (ctx) => ctx.raw < 1 ? "V≈ædy (0 EUR)" : `${ctx.raw} EUR`
                            }
                        }
                    },
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        });
    </script>
</body>
</html>
